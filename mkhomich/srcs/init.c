/* ************************************************************************** */
/*                                                                            */
/*                                                        :::      ::::::::   */
/*   init.c                                             :+:      :+:    :+:   */
/*                                                    +:+ +:+         +:+     */
/*   By: nlavrine <nlavrine@student.42.fr>          +#+  +:+       +#+        */
/*                                                +#+#+#+#+#+   +#+           */
/*   Created: 2019/09/23 14:25:31 by mkhomich          #+#    #+#             */
/*   Updated: 2020/02/16 16:31:47 by nlavrine         ###   ########.fr       */
/*                                                                            */
/* ************************************************************************** */

#include "../incs/doom.h"

void    init_sectors(t_doom *doom)
{
	doom->min_z = 0.5;
//	load_map(doom);
	doom->max_s = 30;
	doom->sec = (t_sec*)malloc(sizeof(t_sec) * doom->max_s);
	doom->max_t = 104;
	doom->toch = (t_toch*)malloc(sizeof(t_toch) * doom->max_t);
	doom->toch[0].x = 0;
	doom->toch[0].y = 5;
	doom->toch[0].z = 0;
	doom->toch[1].x = 0;
	doom->toch[1].y = 5;
	doom->toch[1].z = 200;
	doom->toch[2].x = 200;
	doom->toch[2].y = 5;
	doom->toch[2].z = 200;
	doom->toch[3].x = 200;
	doom->toch[3].y = 5;
	doom->toch[3].z = 0;
	doom->toch[4].x = -3;
	doom->toch[4].y = 20;
	doom->toch[4].z = -3;
	doom->toch[5].x = -3;
	doom->toch[5].y = 20;
	doom->toch[5].z = 203;
	doom->toch[6].x = 0;
	doom->toch[6].y = 5;
	doom->toch[6].z = -3;
	doom->toch[7].x = 0;
	doom->toch[7].y = 5;
	doom->toch[7].z = 203;
	doom->toch[8].x = 203;
	doom->toch[8].y = 5;
	doom->toch[8].z = 0;
	doom->toch[9].x = 203;
	doom->toch[9].y = 20;
	doom->toch[9].z = -3;
	doom->toch[10].x = -3;
	doom->toch[10].y = 20;
	doom->toch[10].z = -3;
	doom->toch[11].x = -3;
	doom->toch[11].y = 5;
	doom->toch[11].z = 0;
	doom->toch[12].x = 200;
	doom->toch[12].y = 5;
	doom->toch[12].z = 203;
	doom->toch[13].x = 203;
	doom->toch[13].y = 20;
	doom->toch[13].z = 203;
	doom->toch[14].x = 203;
	doom->toch[14].y = 20;
	doom->toch[14].z = -3;
	doom->toch[15].x = 200;
	doom->toch[15].y = 5;
	doom->toch[15].z = -3;
	doom->toch[16].x = -3;
	doom->toch[16].y = 5;
	doom->toch[16].z = 200;
	doom->toch[17].x = -3;
	doom->toch[17].y = 20;
	doom->toch[17].z = 203;
	doom->toch[18].x = 203;
	doom->toch[18].y = 20;
	doom->toch[18].z = 203;
	doom->toch[19].x = 203;
	doom->toch[19].y = 5;
	doom->toch[19].z = 200;
	doom->toch[20].x = 7;
	doom->toch[20].y = 5;
	doom->toch[20].z = 15;
	doom->toch[21].x = 7;
	doom->toch[21].y = 15;
	doom->toch[21].z = 15;
	doom->toch[22].x = 20;
	doom->toch[22].y = 15;
	doom->toch[22].z = 15;
	doom->toch[23].x = 20;
	doom->toch[23].y = 5;
	doom->toch[23].z = 15;
	doom->toch[24].x = 20;
	doom->toch[24].y = 15;
	doom->toch[24].z = 9;
	doom->toch[25].x = 20;
	doom->toch[25].y = 5;
	doom->toch[25].z = 9;
	doom->toch[26].x = 100;
	doom->toch[26].y = 5;
	doom->toch[26].z = 80;
	doom->toch[27].x = 100;
	doom->toch[27].y = 15;
	doom->toch[27].z = 80;
	doom->toch[28].x = 100;
	doom->toch[28].y = 15;
	doom->toch[28].z = -3;
	doom->toch[29].x = 100;
	doom->toch[29].y = 5;
	doom->toch[29].z = -3;
	doom->toch[30].x = 180;
	doom->toch[30].y = 5;
	doom->toch[30].z = 15;
	doom->toch[31].x = 180;
	doom->toch[31].y = 15;
	doom->toch[31].z = 15;
	doom->toch[32].x = 193;
	doom->toch[32].y = 15;
	doom->toch[32].z = 15;
	doom->toch[33].x = 193;
	doom->toch[33].y = 5;
	doom->toch[33].z = 15;
	doom->toch[34].x = 180;
	doom->toch[34].y = 5;
	doom->toch[34].z = 9;
	doom->toch[35].x = 180;
	doom->toch[35].y = 15;
	doom->toch[35].z = 9;
	doom->toch[36].x = 180;
	doom->toch[36].y = 5;
	doom->toch[36].z = 185;
	doom->toch[37].x = 180;
	doom->toch[37].y = 15;
	doom->toch[37].z = 185;
	doom->toch[38].x = 193;
	doom->toch[38].y = 15;
	doom->toch[38].z = 185;
	doom->toch[39].x = 193;
	doom->toch[39].y = 5;
	doom->toch[39].z = 185;
	doom->toch[40].x = 180;
	doom->toch[40].y = 15;
	doom->toch[40].z = 191;
	doom->toch[41].x = 180;
	doom->toch[41].y = 5;
	doom->toch[41].z = 191;
	doom->toch[42].x = 7;
	doom->toch[42].y = 5;
	doom->toch[42].z = 185;
	doom->toch[43].x = 7;
	doom->toch[43].y = 15;
	doom->toch[43].z = 185;
	doom->toch[44].x = 20;
	doom->toch[44].y = 15;
	doom->toch[44].z = 185;
	doom->toch[45].x = 20;
	doom->toch[45].y = 5;
	doom->toch[45].z = 185;
	doom->toch[46].x = 20;
	doom->toch[46].y = 15;
	doom->toch[46].z = 191;
	doom->toch[47].x = 20;
	doom->toch[47].y = 5;
	doom->toch[47].z = 191;
	doom->toch[48].x = 100;
	doom->toch[48].y = 5;
	doom->toch[48].z = 120;
	doom->toch[49].x = 100;
	doom->toch[49].y = 15;
	doom->toch[49].z = 120;
	doom->toch[50].x = 100;
	doom->toch[50].y = 15;
	doom->toch[50].z = 203;
	doom->toch[51].x = 100;
	doom->toch[51].y = 5;
	doom->toch[51].z = 203;
	doom->toch[52].x = 70;
	doom->toch[52].y = 5;
	doom->toch[52].z = 100;
	doom->toch[53].x = 70;
	doom->toch[53].y = 15;
	doom->toch[53].z = 100;
	doom->toch[54].x = 130;
	doom->toch[54].y = 15;
	doom->toch[54].z = 100;
	doom->toch[55].x = 130;
	doom->toch[55].y = 5;
	doom->toch[55].z = 100;
	doom->toch[56].x = -3;
	doom->toch[56].y = 5;
	doom->toch[56].z = 100;
	doom->toch[57].x = -3;
	doom->toch[57].y = 15;
	doom->toch[57].z = 100;
	doom->toch[58].x = 50;
	doom->toch[58].y = 15;
	doom->toch[58].z = 100;
	doom->toch[59].x = 50;
	doom->toch[59].y = 5;
	doom->toch[59].z = 100;
	doom->toch[60].x = 150;
	doom->toch[60].y = 5;
	doom->toch[60].z = 100;
	doom->toch[61].x = 150;
	doom->toch[61].y = 15;
	doom->toch[61].z = 100;
	doom->toch[62].x = 203;
	doom->toch[62].y = 15;
	doom->toch[62].z = 100;
	doom->toch[63].x = 203;
	doom->toch[63].y = 5;
	doom->toch[63].z = 100;
	doom->toch[64].x = 20;
	doom->toch[64].y = 5;
	doom->toch[64].z = 60;
	doom->toch[65].x = 20;
	doom->toch[65].y = 15;
	doom->toch[65].z = 60;
	doom->toch[66].x = 90;
	doom->toch[66].y = 15;
	doom->toch[66].z = 60;
	doom->toch[67].x = 90;
	doom->toch[67].y = 5;
	doom->toch[67].z = 60;
	doom->toch[68].x = 110;
	doom->toch[68].y = 5;
	doom->toch[68].z = 60;
	doom->toch[69].x = 110;
	doom->toch[69].y = 15;
	doom->toch[69].z = 60;
	doom->toch[70].x = 180;
	doom->toch[70].y = 15;
	doom->toch[70].z = 60;
	doom->toch[71].x = 180;
	doom->toch[71].y = 5;
	doom->toch[71].z = 60;
	doom->toch[72].x = 20;
	doom->toch[72].y = 5;
	doom->toch[72].z = 140;
	doom->toch[73].x = 20;
	doom->toch[73].y = 15;
	doom->toch[73].z = 140;
	doom->toch[74].x = 90;
	doom->toch[74].y = 15;
	doom->toch[74].z = 140;
	doom->toch[75].x = 90;
	doom->toch[75].y = 5;
	doom->toch[75].z = 140;
	doom->toch[76].x = 110;
	doom->toch[76].y = 5;
	doom->toch[76].z = 140;
	doom->toch[77].x = 110;
	doom->toch[77].y = 15;
	doom->toch[77].z = 140;
	doom->toch[78].x = 180;
	doom->toch[78].y = 15;
	doom->toch[78].z = 140;
	doom->toch[79].x = 180;
	doom->toch[79].y = 5;
	doom->toch[79].z = 140;
	doom->toch[80].x = 50;
	doom->toch[80].y = 8;
	doom->toch[80].z = 80;
	doom->toch[81].x = 50;
	doom->toch[81].y = 8;
	doom->toch[81].z = 120;
	doom->toch[82].x = 70;
	doom->toch[82].y = 8;
	doom->toch[82].z = 120;
	doom->toch[83].x = 70;
	doom->toch[83].y = 8;
	doom->toch[83].z = 80;
	doom->toch[84].x = 50;
	doom->toch[84].y = 5;
	doom->toch[84].z = 75;
	doom->toch[85].x = 70;
	doom->toch[85].y = 5;
	doom->toch[85].z = 75;
	doom->toch[86].x = 50;
	doom->toch[86].y = 5;
	doom->toch[86].z = 125;
	doom->toch[87].x = 70;
	doom->toch[87].y = 5;
	doom->toch[87].z = 125;
	doom->toch[88].x = 130;
	doom->toch[88].y = 8;
	doom->toch[88].z = 80;
	doom->toch[89].x = 130;
	doom->toch[89].y = 8;
	doom->toch[89].z = 120;
	doom->toch[90].x = 150;
	doom->toch[90].y = 8;
	doom->toch[90].z = 120;
	doom->toch[91].x = 150;
	doom->toch[91].y = 8;
	doom->toch[91].z = 80;
	doom->toch[92].x = 130;
	doom->toch[92].y = 5;
	doom->toch[92].z = 75;
	doom->toch[93].x = 150;
	doom->toch[93].y = 5;
	doom->toch[93].z = 75;
	doom->toch[94].x = 130;
	doom->toch[94].y = 5;
	doom->toch[94].z = 125;
	doom->toch[95].x = 150;
	doom->toch[95].y = 5;
	doom->toch[95].z = 125;
	doom->toch[96].x = 25;
	doom->toch[96].y = 10;
	doom->toch[96].z = 25;
	doom->toch[97].x = 25;
	doom->toch[97].y = 13.2;
	doom->toch[97].z = 25;
	doom->toch[98].x = 25;
	doom->toch[98].y = 13.2;
	doom->toch[98].z = 21.8;
	doom->toch[99].x = 25;
	doom->toch[99].y = 10;
	doom->toch[99].z = 21.8;
	doom->toch[100].x = 25;
	doom->toch[100].y = 20;
	doom->toch[100].z = 25;
	doom->toch[101].x = 25;
	doom->toch[101].y = 20;
	doom->toch[101].z = 40;
	doom->toch[102].x = 40;
	doom->toch[102].y = 20;
	doom->toch[102].z = 40;
	doom->toch[103].x = 40;
	doom->toch[103].y = 20;
	doom->toch[103].z = 25;
	doom->sec[0].max_toch = 4;
	doom->sec[0].pts = (int*)malloc(sizeof(int) * doom->sec[0].max_toch);
	doom->sec[0].pts[0] = 0;
	doom->sec[0].pts[1] = 1;
	doom->sec[0].pts[2] = 2;
	doom->sec[0].pts[3] = 3;
	doom->sec[0].t_full = 30;
	doom->sec[0].t_win = 0;
	doom->sec[0].tape = 0;
	doom->sec[1].max_toch = 4;
	doom->sec[1].pts = (int*)malloc(sizeof(int) * doom->sec[1].max_toch);
	doom->sec[1].pts[0] = 6;
	doom->sec[1].pts[1] = 4;
	doom->sec[1].pts[2] = 5;
	doom->sec[1].pts[3] = 7;
	doom->sec[1].t_full = 5;
	doom->sec[1].t_win = 0;
	doom->sec[1].tape = 1;
	doom->sec[2].max_toch = 4;
	doom->sec[2].pts = (int*)malloc(sizeof(int) * doom->sec[2].max_toch);
	doom->sec[2].pts[0] = 8;
	doom->sec[2].pts[1] = 9;
	doom->sec[2].pts[2] = 10;
	doom->sec[2].pts[3] = 11;
	doom->sec[2].t_full = 5;
	doom->sec[2].t_win = 0;
	doom->sec[2].tape = 1;
	doom->sec[3].max_toch = 4;
	doom->sec[3].pts = (int*)malloc(sizeof(int) * doom->sec[3].max_toch);
	doom->sec[3].pts[0] = 12;
	doom->sec[3].pts[1] = 13;
	doom->sec[3].pts[2] = 14;
	doom->sec[3].pts[3] = 15;
	doom->sec[3].t_full = 5;
	doom->sec[3].t_win = 0;
	doom->sec[3].tape = 1;
	doom->sec[4].max_toch = 4;
	doom->sec[4].pts = (int*)malloc(sizeof(int) * doom->sec[4].max_toch);
	doom->sec[4].pts[0] = 16;
	doom->sec[4].pts[1] = 17;
	doom->sec[4].pts[2] = 18;
	doom->sec[4].pts[3] = 19;
	doom->sec[4].t_full = 5;
	doom->sec[4].t_win = 0;
	doom->sec[4].tape = 1;
	doom->sec[5].max_toch = 4;
	doom->sec[5].pts = (int*)malloc(sizeof(int) * doom->sec[5].max_toch);
	doom->sec[5].pts[0] = 20;
	doom->sec[5].pts[1] = 21;
	doom->sec[5].pts[2] = 22;
	doom->sec[5].pts[3] = 23;
	doom->sec[5].t_full = 1;
	doom->sec[5].t_win = 0;
	doom->sec[5].tape = 1;
	doom->sec[6].max_toch = 4;
	doom->sec[6].pts = (int*)malloc(sizeof(int) * doom->sec[6].max_toch);
	doom->sec[6].pts[0] = 23;
	doom->sec[6].pts[1] = 22;
	doom->sec[6].pts[2] = 24;
	doom->sec[6].pts[3] = 25;
	doom->sec[6].t_full = 1;
	doom->sec[6].t_win = 0;
	doom->sec[6].tape = 1;
	doom->sec[7].max_toch = 4;
	doom->sec[7].pts = (int*)malloc(sizeof(int) * doom->sec[7].max_toch);
	doom->sec[7].pts[0] = 26;
	doom->sec[7].pts[1] = 27;
	doom->sec[7].pts[2] = 28;
	doom->sec[7].pts[3] = 29;
	doom->sec[7].t_full = 5;
	doom->sec[7].t_win = 0;
	doom->sec[7].tape = 1;
	doom->sec[8].max_toch = 4;
	doom->sec[8].pts = (int*)malloc(sizeof(int) * doom->sec[8].max_toch);
	doom->sec[8].pts[0] = 30;
	doom->sec[8].pts[1] = 31;
	doom->sec[8].pts[2] = 32;
	doom->sec[8].pts[3] = 33;
	doom->sec[8].t_full = 1;
	doom->sec[8].t_win = 0;
	doom->sec[8].tape = 1;
	doom->sec[9].max_toch = 4;
	doom->sec[9].pts = (int*)malloc(sizeof(int) * doom->sec[9].max_toch);
	doom->sec[9].pts[0] = 34;
	doom->sec[9].pts[1] = 35;
	doom->sec[9].pts[2] = 31;
	doom->sec[9].pts[3] = 30;
	doom->sec[9].t_full = 1;
	doom->sec[9].t_win = 0;
	doom->sec[9].tape = 1;
	doom->sec[10].max_toch = 4;
	doom->sec[10].pts = (int*)malloc(sizeof(int) * doom->sec[10].max_toch);
	doom->sec[10].pts[0] = 36;
	doom->sec[10].pts[1] = 37;
	doom->sec[10].pts[2] = 38;
	doom->sec[10].pts[3] = 39;
	doom->sec[10].t_full = 1;
	doom->sec[10].t_win = 0;
	doom->sec[10].tape = 1;
	doom->sec[11].max_toch = 4;
	doom->sec[11].pts = (int*)malloc(sizeof(int) * doom->sec[11].max_toch);
	doom->sec[11].pts[0] = 36;
	doom->sec[11].pts[1] = 37;
	doom->sec[11].pts[2] = 40;
	doom->sec[11].pts[3] = 41;
	doom->sec[11].t_full = 1;
	doom->sec[11].t_win = 0;
	doom->sec[11].tape = 1;
	doom->sec[12].max_toch = 4;
	doom->sec[12].pts = (int*)malloc(sizeof(int) * doom->sec[12].max_toch);
	doom->sec[12].pts[0] = 42;
	doom->sec[12].pts[1] = 43;
	doom->sec[12].pts[2] = 44;
	doom->sec[12].pts[3] = 45;
	doom->sec[12].t_full = 1;
	doom->sec[12].t_win = 0;
	doom->sec[12].tape = 1;
	doom->sec[13].max_toch = 4;
	doom->sec[13].pts = (int*)malloc(sizeof(int) * doom->sec[13].max_toch);
	doom->sec[13].pts[0] = 45;
	doom->sec[13].pts[1] = 44;
	doom->sec[13].pts[2] = 46;
	doom->sec[13].pts[3] = 47;
	doom->sec[13].t_full = 1;
	doom->sec[13].t_win = 0;
	doom->sec[13].tape = 1;
	doom->sec[14].max_toch = 4;
	doom->sec[14].pts = (int*)malloc(sizeof(int) * doom->sec[14].max_toch);
	doom->sec[14].pts[0] = 48;
	doom->sec[14].pts[1] = 49;
	doom->sec[14].pts[2] = 50;
	doom->sec[14].pts[3] = 51;
	doom->sec[14].t_full = 5;
	doom->sec[14].t_win = 0;
	doom->sec[14].tape = 1;
	doom->sec[15].max_toch = 4;
	doom->sec[15].pts = (int*)malloc(sizeof(int) * doom->sec[15].max_toch);
	doom->sec[15].pts[0] = 52;
	doom->sec[15].pts[1] = 53;
	doom->sec[15].pts[2] = 54;
	doom->sec[15].pts[3] = 55;
	doom->sec[15].t_full = 3;
	doom->sec[15].t_win = 0;
	doom->sec[15].tape = 1;
	doom->sec[16].max_toch = 4;
	doom->sec[16].pts = (int*)malloc(sizeof(int) * doom->sec[16].max_toch);
	doom->sec[16].pts[0] = 56;
	doom->sec[16].pts[1] = 57;
	doom->sec[16].pts[2] = 58;
	doom->sec[16].pts[3] = 59;
	doom->sec[16].t_full = 5;
	doom->sec[16].t_win = 0;
	doom->sec[16].tape = 1;
	doom->sec[17].max_toch = 4;
	doom->sec[17].pts = (int*)malloc(sizeof(int) * doom->sec[17].max_toch);
	doom->sec[17].pts[0] = 60;
	doom->sec[17].pts[1] = 61;
	doom->sec[17].pts[2] = 62;
	doom->sec[17].pts[3] = 63;
	doom->sec[17].t_full = 5;
	doom->sec[17].t_win = 0;
	doom->sec[17].tape = 1;
	doom->sec[18].max_toch = 4;
	doom->sec[18].pts = (int*)malloc(sizeof(int) * doom->sec[18].max_toch);
	doom->sec[18].pts[0] = 64;
	doom->sec[18].pts[1] = 65;
	doom->sec[18].pts[2] = 66;
	doom->sec[18].pts[3] = 67;
	doom->sec[18].t_full = 2;
	doom->sec[18].t_win = 0;
	doom->sec[18].tape = 1;
	doom->sec[19].max_toch = 4;
	doom->sec[19].pts = (int*)malloc(sizeof(int) * doom->sec[19].max_toch);
	doom->sec[19].pts[0] = 68;
	doom->sec[19].pts[1] = 69;
	doom->sec[19].pts[2] = 70;
	doom->sec[19].pts[3] = 71;
	doom->sec[19].t_full = 2;
	doom->sec[19].t_win = 0;
	doom->sec[19].tape = 1;
	doom->sec[20].max_toch = 4;
	doom->sec[20].pts = (int*)malloc(sizeof(int) * doom->sec[20].max_toch);
	doom->sec[20].pts[0] = 72;
	doom->sec[20].pts[1] = 73;
	doom->sec[20].pts[2] = 74;
	doom->sec[20].pts[3] = 75;
	doom->sec[20].t_full = 2;
	doom->sec[20].t_win = 0;
	doom->sec[20].tape = 1;
	doom->sec[21].max_toch = 4;
	doom->sec[21].pts = (int*)malloc(sizeof(int) * doom->sec[21].max_toch);
	doom->sec[21].pts[0] = 76;
	doom->sec[21].pts[1] = 77;
	doom->sec[21].pts[2] = 78;
	doom->sec[21].pts[3] = 79;
	doom->sec[21].t_full = 2;
	doom->sec[21].t_win = 0;
	doom->sec[21].tape = 1;
	doom->sec[22].max_toch = 4;
	doom->sec[22].pts = (int*)malloc(sizeof(int) * doom->sec[22].max_toch);
	doom->sec[22].pts[0] = 80;
	doom->sec[22].pts[1] = 81;
	doom->sec[22].pts[2] = 82;
	doom->sec[22].pts[3] = 83;
	doom->sec[22].t_full = 2;
	doom->sec[22].t_win = 0;
	doom->sec[22].tape = 0;
	doom->sec[23].max_toch = 4;
	doom->sec[23].pts = (int*)malloc(sizeof(int) * doom->sec[23].max_toch);
	doom->sec[23].pts[0] = 84;
	doom->sec[23].pts[1] = 80;
	doom->sec[23].pts[2] = 83;
	doom->sec[23].pts[3] = 85;
	doom->sec[23].t_full = 2;
	doom->sec[23].t_win = 0;
	doom->sec[23].tape = 0;
	doom->sec[24].max_toch = 4;
	doom->sec[24].pts = (int*)malloc(sizeof(int) * doom->sec[24].max_toch);
	doom->sec[24].pts[0] = 81;
	doom->sec[24].pts[1] = 86;
	doom->sec[24].pts[2] = 87;
	doom->sec[24].pts[3] = 82;
	doom->sec[24].t_full = 2;
	doom->sec[24].t_win = 0;
	doom->sec[24].tape = 0;
	doom->sec[25].max_toch = 4;
	doom->sec[25].pts = (int*)malloc(sizeof(int) * doom->sec[25].max_toch);
	doom->sec[25].pts[0] = 88;
	doom->sec[25].pts[1] = 89;
	doom->sec[25].pts[2] = 90;
	doom->sec[25].pts[3] = 91;
	doom->sec[25].t_full = 2;
	doom->sec[25].t_win = 0;
	doom->sec[25].tape = 0;
	doom->sec[26].max_toch = 4;
	doom->sec[26].pts = (int*)malloc(sizeof(int) * doom->sec[26].max_toch);
	doom->sec[26].pts[0] = 92;
	doom->sec[26].pts[1] = 88;
	doom->sec[26].pts[2] = 91;
	doom->sec[26].pts[3] = 93;
	doom->sec[26].t_full = 2;
	doom->sec[26].t_win = 0;
	doom->sec[26].tape = 0;
	doom->sec[27].max_toch = 4;
	doom->sec[27].pts = (int*)malloc(sizeof(int) * doom->sec[27].max_toch);
	doom->sec[27].pts[0] = 89;
	doom->sec[27].pts[1] = 94;
	doom->sec[27].pts[2] = 95;
	doom->sec[27].pts[3] = 90;
	doom->sec[27].t_full = 2;
	doom->sec[27].t_win = 0;
	doom->sec[27].tape = 0;
	doom->sec[28].max_toch = 4;
	doom->sec[28].pts = (int*)malloc(sizeof(int) * doom->sec[28].max_toch);
	doom->sec[28].pts[0] = 96;
	doom->sec[28].pts[1] = 97;
	doom->sec[28].pts[2] = 98;
	doom->sec[28].pts[3] = 99;
	doom->sec[28].t_full = 32;
	doom->sec[28].t_win = 0;
	doom->sec[28].tape = 1;
	doom->sec[29].max_toch = 4;
	doom->sec[29].pts = (int*)malloc(sizeof(int) * doom->sec[29].max_toch);
	doom->sec[29].pts[0] = 100;
	doom->sec[29].pts[1] = 101;
	doom->sec[29].pts[2] = 102;
	doom->sec[29].pts[3] = 103;
	doom->sec[29].t_full = 32;
	doom->sec[29].t_win = 0;
	doom->sec[29].tape = 0;
	doom->sec[0].win.x = 0;
	doom->sec[0].win.y = 0;
	doom->sec[0].win.w = 0;
	doom->sec[0].win.h = 0;
	doom->sec[0].p_move = 0;
	doom->sec[0].f_move = 0;
	doom->sec[1].win.x = 0;
	doom->sec[1].win.y = 0;
	doom->sec[1].win.w = 0;
	doom->sec[1].win.h = 0;
	doom->sec[1].p_move = 0;
	doom->sec[1].f_move = 0;
	doom->sec[2].win.x = 0;
	doom->sec[2].win.y = 0;
	doom->sec[2].win.w = 0;
	doom->sec[2].win.h = 0;
	doom->sec[2].p_move = 0;
	doom->sec[2].f_move = 0;
	doom->sec[3].win.x = 0;
	doom->sec[3].win.y = 0;
	doom->sec[3].win.w = 0;
	doom->sec[3].win.h = 0;
	doom->sec[3].p_move = 0;
	doom->sec[3].f_move = 0;
	doom->sec[4].win.x = 0;
	doom->sec[4].win.y = 0;
	doom->sec[4].win.w = 0;
	doom->sec[4].win.h = 0;
	doom->sec[4].p_move = 0;
	doom->sec[4].f_move = 0;
	doom->sec[5].win.x = 0;
	doom->sec[5].win.y = 0;
	doom->sec[5].win.w = 0;
	doom->sec[5].win.h = 0;
	doom->sec[5].p_move = 0;
	doom->sec[5].f_move = 0;
	doom->sec[6].win.x = 0;
	doom->sec[6].win.y = 0;
	doom->sec[6].win.w = 0;
	doom->sec[6].win.h = 0;
	doom->sec[6].p_move = 0;
	doom->sec[6].f_move = 0;
	doom->sec[7].win.x = 0;
	doom->sec[7].win.y = 0;
	doom->sec[7].win.w = 0;
	doom->sec[7].win.h = 0;
	doom->sec[7].p_move = 0;
	doom->sec[7].f_move = 0;
	doom->sec[8].win.x = 0;
	doom->sec[8].win.y = 0;
	doom->sec[8].win.w = 0;
	doom->sec[8].win.h = 0;
	doom->sec[8].p_move = 0;
	doom->sec[8].f_move = 0;
	doom->sec[9].win.x = 0;
	doom->sec[9].win.y = 0;
	doom->sec[9].win.w = 0;
	doom->sec[9].win.h = 0;
	doom->sec[9].p_move = 0;
	doom->sec[9].f_move = 0;
	doom->sec[10].win.x = 0;
	doom->sec[10].win.y = 0;
	doom->sec[10].win.w = 0;
	doom->sec[10].win.h = 0;
	doom->sec[10].p_move = 0;
	doom->sec[10].f_move = 0;
	doom->sec[11].win.x = 0;
	doom->sec[11].win.y = 0;
	doom->sec[11].win.w = 0;
	doom->sec[11].win.h = 0;
	doom->sec[11].p_move = 0;
	doom->sec[11].f_move = 0;
	doom->sec[12].win.x = 0;
	doom->sec[12].win.y = 0;
	doom->sec[12].win.w = 0;
	doom->sec[12].win.h = 0;
	doom->sec[12].p_move = 0;
	doom->sec[12].f_move = 0;
	doom->sec[13].win.x = 0;
	doom->sec[13].win.y = 0;
	doom->sec[13].win.w = 0;
	doom->sec[13].win.h = 0;
	doom->sec[13].p_move = 0;
	doom->sec[13].f_move = 0;
	doom->sec[14].win.x = 0;
	doom->sec[14].win.y = 0;
	doom->sec[14].win.w = 0;
	doom->sec[14].win.h = 0;
	doom->sec[14].p_move = 0;
	doom->sec[14].f_move = 0;
	doom->sec[15].win.x = 0;
	doom->sec[15].win.y = 0;
	doom->sec[15].win.w = 0;
	doom->sec[15].win.h = 0;
	doom->sec[15].p_move = 0;
	doom->sec[15].f_move = 0;
	doom->sec[16].win.x = 0;
	doom->sec[16].win.y = 0;
	doom->sec[16].win.w = 0;
	doom->sec[16].win.h = 0;
	doom->sec[16].p_move = 0;
	doom->sec[16].f_move = 0;
	doom->sec[17].win.x = 0;
	doom->sec[17].win.y = 0;
	doom->sec[17].win.w = 0;
	doom->sec[17].win.h = 0;
	doom->sec[17].p_move = 0;
	doom->sec[17].f_move = 0;
	doom->sec[18].win.x = 0;
	doom->sec[18].win.y = 0;
	doom->sec[18].win.w = 0;
	doom->sec[18].win.h = 0;
	doom->sec[18].p_move = 0;
	doom->sec[18].f_move = 0;
	doom->sec[19].win.x = 0;
	doom->sec[19].win.y = 0;
	doom->sec[19].win.w = 0;
	doom->sec[19].win.h = 0;
	doom->sec[19].p_move = 0;
	doom->sec[19].f_move = 0;
	doom->sec[20].win.x = 0;
	doom->sec[20].win.y = 0;
	doom->sec[20].win.w = 0;
	doom->sec[20].win.h = 0;
	doom->sec[20].p_move = 0;
	doom->sec[20].f_move = 0;
	doom->sec[21].win.x = 0;
	doom->sec[21].win.y = 0;
	doom->sec[21].win.w = 0;
	doom->sec[21].win.h = 0;
	doom->sec[21].p_move = 0;
	doom->sec[21].f_move = 0;
	doom->sec[22].win.x = 0;
	doom->sec[22].win.y = 0;
	doom->sec[22].win.w = 0;
	doom->sec[22].win.h = 0;
	doom->sec[22].p_move = 0;
	doom->sec[22].f_move = 0;
	doom->sec[23].win.x = 0;
	doom->sec[23].win.y = 0;
	doom->sec[23].win.w = 0;
	doom->sec[23].win.h = 0;
	doom->sec[23].p_move = 0;
	doom->sec[23].f_move = 0;
	doom->sec[24].win.x = 0;
	doom->sec[24].win.y = 0;
	doom->sec[24].win.w = 0;
	doom->sec[24].win.h = 0;
	doom->sec[24].p_move = 0;
	doom->sec[24].f_move = 0;
	doom->sec[25].win.x = 0;
	doom->sec[25].win.y = 0;
	doom->sec[25].win.w = 0;
	doom->sec[25].win.h = 0;
	doom->sec[25].p_move = 0;
	doom->sec[25].f_move = 0;
	doom->sec[26].win.x = 0;
	doom->sec[26].win.y = 0;
	doom->sec[26].win.w = 0;
	doom->sec[26].win.h = 0;
	doom->sec[26].p_move = 0;
	doom->sec[26].f_move = 0;
	doom->sec[27].win.x = 0;
	doom->sec[27].win.y = 0;
	doom->sec[27].win.w = 0;
	doom->sec[27].win.h = 0;
	doom->sec[27].p_move = 0;
	doom->sec[27].f_move = 0;
	doom->sec[28].win.x = 0;
	doom->sec[28].win.y = 0;
	doom->sec[28].win.w = 0;
	doom->sec[28].win.h = 0;
	doom->sec[28].p_move = 0;
	doom->sec[28].f_move = 0;
	doom->sec[29].win.x = 0;
	doom->sec[29].win.y = 0;
	doom->sec[29].win.w = 0;
	doom->sec[29].win.h = 0;
	doom->sec[29].p_move = 0;
	doom->sec[29].f_move = 0;

	doom->sec[0].max_sp = 16;
	doom->sec[0].sp = (t_tochsp*)malloc(sizeof(t_tochsp) * doom->sec[0].max_sp);
	doom->sec[0].sp[0].nb_sp = 12;
	doom->sec[0].sp[0].sp.x = 98;
	doom->sec[0].sp[0].sp.y = 5;
	doom->sec[0].sp[0].sp.z = 2;
	doom->sec[0].sp[0].viem = 1;
	doom->sec[0].sp[0].take = 0;
	doom->sec[0].sp[1].nb_sp = 12;
	doom->sec[0].sp[1].sp.x = 75;
	doom->sec[0].sp[1].sp.y = 5;
	doom->sec[0].sp[1].sp.z = 78;
	doom->sec[0].sp[1].viem = 1;
	doom->sec[0].sp[1].take = 0;
	doom->sec[0].sp[2].nb_sp = 12;
	doom->sec[0].sp[2].sp.x = 125;
	doom->sec[0].sp[2].sp.y = 5;
	doom->sec[0].sp[2].sp.z = 122;
	doom->sec[0].sp[2].viem = 1;
	doom->sec[0].sp[2].take = 0;
	doom->sec[0].sp[3].nb_sp = 13;
	doom->sec[0].sp[3].sp.x = 100;
	doom->sec[0].sp[3].sp.y = 5;
	doom->sec[0].sp[3].sp.z = 90;
	doom->sec[0].sp[3].viem = 1;
	doom->sec[0].sp[3].take = 1;
	doom->sec[0].sp[4].nb_sp = 13;
	doom->sec[0].sp[4].sp.x = 100;
	doom->sec[0].sp[4].sp.y = 5;
	doom->sec[0].sp[4].sp.z = 110;
	doom->sec[0].sp[4].viem = 1;
	doom->sec[0].sp[4].take = 1;
	doom->sec[0].sp[5].nb_sp = 14;
	doom->sec[0].sp[5].sp.x = 50;
	doom->sec[0].sp[5].sp.y = 5;
	doom->sec[0].sp[5].sp.z = 62;
	doom->sec[0].sp[5].viem = 1;
	doom->sec[0].sp[5].take = 1;
	doom->sec[0].sp[6].nb_sp = 14;
	doom->sec[0].sp[6].sp.x = 150;
	doom->sec[0].sp[6].sp.y = 5;
	doom->sec[0].sp[6].sp.z = 62;
	doom->sec[0].sp[6].viem = 1;
	doom->sec[0].sp[6].take = 1;
	doom->sec[0].sp[7].nb_sp = 14;
	doom->sec[0].sp[7].sp.x = 50;
	doom->sec[0].sp[7].sp.y = 5;
	doom->sec[0].sp[7].sp.z = 138;
	doom->sec[0].sp[7].viem = 1;
	doom->sec[0].sp[7].take = 1;
	doom->sec[0].sp[8].nb_sp = 14;
	doom->sec[0].sp[8].sp.x = 150;
	doom->sec[0].sp[8].sp.y = 5;
	doom->sec[0].sp[8].sp.z = 138;
	doom->sec[0].sp[8].viem = 1;
	doom->sec[0].sp[8].take = 1;
	doom->sec[0].sp[9].nb_sp = 15;
	doom->sec[0].sp[9].sp.x = 2;
	doom->sec[0].sp[9].sp.y = 5;
	doom->sec[0].sp[9].sp.z = 45;
	doom->sec[0].sp[9].viem = 1;
	doom->sec[0].sp[9].take = 1;
	doom->sec[0].sp[10].nb_sp = 15;
	doom->sec[0].sp[10].sp.x = 2;
	doom->sec[0].sp[10].sp.y = 5;
	doom->sec[0].sp[10].sp.z = 155;
	doom->sec[0].sp[10].viem = 1;
	doom->sec[0].sp[10].take = 1;
	doom->sec[0].sp[11].nb_sp = 15;
	doom->sec[0].sp[11].sp.x = 198;
	doom->sec[0].sp[11].sp.y = 5;
	doom->sec[0].sp[11].sp.z = 45;
	doom->sec[0].sp[11].viem = 1;
	doom->sec[0].sp[11].take = 1;
	doom->sec[0].sp[12].nb_sp = 15;
	doom->sec[0].sp[12].sp.x = 198;
	doom->sec[0].sp[12].sp.y = 5;
	doom->sec[0].sp[12].sp.z = 155;
	doom->sec[0].sp[12].viem = 1;
	doom->sec[0].sp[12].take = 1;
	doom->sec[0].sp[13].nb_sp = 19;
	doom->sec[0].sp[13].sp.x = 50;
	doom->sec[0].sp[13].sp.y = 5;
	doom->sec[0].sp[13].sp.z = 35;
	doom->sec[0].sp[13].viem = 1;
	doom->sec[0].sp[13].take = 0;
	doom->sec[0].sp[14].nb_sp = 19;
	doom->sec[0].sp[14].sp.x = 30;
	doom->sec[0].sp[14].sp.y = 5;
	doom->sec[0].sp[14].sp.z = 35;
	doom->sec[0].sp[14].viem = 1;
	doom->sec[0].sp[14].take = 0;
	doom->sec[0].sp[15].nb_sp = 19;
	doom->sec[0].sp[15].sp.x = 70;
	doom->sec[0].sp[15].sp.y = 5;
	doom->sec[0].sp[15].sp.z = 35;
	doom->sec[0].sp[15].viem = 1;
	doom->sec[0].sp[15].take = 0;
	doom->sec[1].max_sp = 0;
	doom->sec[2].max_sp = 0;
	doom->sec[3].max_sp = 0;
	doom->sec[4].max_sp = 0;
	doom->sec[5].max_sp = 0;
	doom->sec[6].max_sp = 0;
	doom->sec[7].max_sp = 0;
	doom->sec[8].max_sp = 0;
	doom->sec[9].max_sp = 0;
	doom->sec[10].max_sp = 0;
	doom->sec[11].max_sp = 0;
	doom->sec[12].max_sp = 0;
	doom->sec[13].max_sp = 0;
	doom->sec[14].max_sp = 0;
	doom->sec[15].max_sp = 0;
	doom->sec[16].max_sp = 0;
	doom->sec[17].max_sp = 0;
	doom->sec[18].max_sp = 0;
	doom->sec[19].max_sp = 0;
	doom->sec[20].max_sp = 0;
	doom->sec[21].max_sp = 0;
	doom->sec[22].max_sp = 0;
	doom->sec[23].max_sp = 0;
	doom->sec[24].max_sp = 0;
	doom->sec[25].max_sp = 0;
	doom->sec[26].max_sp = 0;
	doom->sec[27].max_sp = 0;
	doom->sec[28].max_sp = 0;
	doom->sec[29].max_sp = 0;
	doom->sec[0].max_but = 0;
	doom->sec[1].max_but = 0;
	doom->sec[2].max_but = 0;
	doom->sec[3].max_but = 0;
	doom->sec[4].max_but = 0;
	doom->sec[5].max_but = 0;
	doom->sec[6].max_but = 0;
	doom->sec[7].max_but = 0;
	doom->sec[8].max_but = 0;
	doom->sec[9].max_but = 0;
	doom->sec[10].max_but = 0;
	doom->sec[11].max_but = 0;
	doom->sec[12].max_but = 0;
	doom->sec[13].max_but = 0;
	doom->sec[14].max_but = 0;
	doom->sec[15].max_but = 0;
	doom->sec[16].max_but = 0;
	doom->sec[17].max_but = 0;
	doom->sec[18].max_but = 0;
	doom->sec[19].max_but = 0;
	doom->sec[20].max_but = 0;
	doom->sec[21].max_but = 0;
	doom->sec[22].max_but = 0;
	doom->sec[23].max_but = 0;
	doom->sec[24].max_but = 0;
	doom->sec[25].max_but = 0;
	doom->sec[26].max_but = 0;
	doom->sec[27].max_but = 0;
	doom->sec[28].max_but = 1;
	doom->sec[28].but = (t_buttom*)ft_memalloc(sizeof(t_buttom) * doom->sec[28].max_but);
	doom->sec[28].but[0].st.x = 0;
	doom->sec[28].but[0].st.y = 0;
	doom->sec[28].but[0].spr = 20;
	doom->sec[28].but[0].count = 0;
	doom->sec[29].max_but = 0;
//	save_map(doom);
	int i;

	i = 0;
	while (i < doom->max_s)
	{
		grid_sec(doom, &doom->sec[i], 0);
		i++;
	}
	doom->rend = (t_render*)malloc(sizeof(t_render) * doom->max_s);
	doom->z_buffer = (int*)malloc(sizeof(int) * doom->w * doom->h);
}

void    init_minimap(t_doom *doom)
{
	doom->mmap.w = 200;
	doom->mmap.h = 200;
	doom->mmap.mmap = SDL_CreateRGBSurface(0,
										   doom->mmap.w, doom->mmap.h, 32, 0, 0, 0, 0);
}

void    init_player(t_doom *doom)
{
	doom->max_p = 4;
	doom->n_play = 0;
	doom->play = (t_play*)malloc(sizeof(t_play) * doom->max_p);
	doom->play[0].t.x = 10;
	doom->play[0].t.y = 20;
	doom->play[0].t.z = 10;
	doom->play[0].angle_x = 0;
	doom->play[0].angle_y = 270;
	doom->play[0].speed = 0.2f;
	doom->play[0].sp = 9;
	doom->play[0].weapons = 6;
	doom->play[0].heart = 34;
	doom->play[0].armor = 0;
	doom->play[0].count = 0;
	doom->play[0].f_move = 0;
	doom->play[0].shot = 8;
	doom->play[0].state = 0;
	doom->play[0].crouch = 0;
	doom->play[0].id = 0;
	doom->play[1].t.x = 190;
	doom->play[1].t.y = 5;
	doom->play[1].t.z = 10;
	doom->play[1].angle_x = 0;
	doom->play[1].angle_y = 90;
	doom->play[1].speed = 0.1f;
	doom->play[1].sp = 9;
	doom->play[1].weapons = 7;
	doom->play[1].heart = 34;
	doom->play[1].armor = 0;
	doom->play[1].count = 0;
	doom->play[1].f_move = 0;
	doom->play[1].shot = 8;
	doom->play[1].state = 0;
	doom->play[1].crouch = 0;
	doom->play[1].id = 1;
	doom->play[2].t.x = 190;
	doom->play[2].t.y = 5;
	doom->play[2].t.z = 190;
	doom->play[2].angle_x = 0;
	doom->play[2].angle_y = 90;
	doom->play[2].speed = 0.1f;
	doom->play[2].sp = 9;
	doom->play[2].weapons = 7;
	doom->play[2].heart = 34;
	doom->play[2].armor = 0;
	doom->play[2].count = 0;
	doom->play[2].f_move = 0;
	doom->play[2].shot = 8;
    doom->play[2].state = 0;
    doom->play[2].crouch = 0;
	doom->play[2].id = 2;
	doom->play[3].t.x = 10;
	doom->play[3].t.y = 5;
	doom->play[3].t.z = 190;
	doom->play[3].angle_x = 0;
	doom->play[3].angle_y = 270;
	doom->play[3].speed = 0.1f;
	doom->play[3].sp = 9;
	doom->play[3].weapons = 7;
	doom->play[3].heart = 34;
	doom->play[3].armor = 0;
	doom->play[3].count = 0;
	doom->play[3].f_move = 0;
	doom->play[3].shot = 8;
    doom->play[3].state = 0;
    doom->play[3].crouch = 0;
	doom->play[3].id = 3;
	doom->move.wsad[0] = 0;
	doom->move.wsad[1] = 0;
	doom->move.wsad[2] = 0;
	doom->move.wsad[3] = 0;
	doom->move.shot = 0;
	doom->move.mmap = 0;
	doom->move.jump = 0;
	doom->move.altern = 0;
}

void	init_music(t_doom *doom)
{
	Mix_OpenAudio( 22050, MIX_DEFAULT_FORMAT, 2, 256);
	doom->muz.music = Mix_LoadMUS( "media/piople/Papa Roach - The Ending.ogg" );
	doom->muz.shot_pistol = Mix_LoadWAV( "media/piople/2.wav" );
}

void	init_pull(t_doom *doom)
{
	int nb;

	nb = 0;
	while (nb < MAX_PULL)
	{
		doom->pull[nb].status = 0;
		nb++;
	}
}

unsigned char     **burn_tab(size_t x, size_t y)
{
    size_t	line;
    unsigned char     **res;

    line = 0;
    if (x && y)
    {
        if (!(res = ft_memalloc(sizeof(unsigned char*) * (y + 1))))
            return (NULL);
        if (x && y)
            while (line < y)
                if (!(res[line++] = ft_memalloc(sizeof(unsigned char) * (x + 1))))
                    return (NULL);
        return (res);
    }
    return (NULL);
}

int     generate_alpha_tab(t_doom *doom)
{
    unsigned char color;
    int alpha;

    color = 0;
    if ((doom->alpha_tab = burn_tab(0xFF + 1, 0xFF + 1)) == NULL)
        return (0);
    while (color <= 0xFF)
    {
        alpha = 0;
        while (alpha <= 0xFF)
        {
            doom->alpha_tab[color][alpha] = (color * alpha) / 0xFF;
            alpha++;
        }
        if (color == 0xFF)
            return (1);
        color++;
    }
    return (1);
}

int 	init_full(t_doom *doom, char *str)
{
	doom->nb = 0;
	doom->soc.r = 0;
	doom->w = 1024;
	doom->h = 768;
    doom->igr_x = doom->w / 2;
    doom->igr_y = doom->h / 2;
	doom->x_aim = doom->igr_x;
	doom->y_aim = doom->h * 0.62;
	doom->gravity = 0.015;
	init_pull(doom);
    load_texture_wall(doom);
	init_sectors(doom);
	if (generate_alpha_tab(doom) == 0)
	    return (0);
	if (ft_strcmp(str, "s") == 0 || str == NULL)
		init_player(doom);
	init_music(doom);
	doom->mult = 0;
	if (str)
		if (socket_init(doom, (*str == 's') ? 1 : ((*str == 'p') ? 2 : 0)) == 0)
			return (0);
	doom->play[doom->n_play].f_move = 0;
	SDL_Init(SDL_INIT_EVERYTHING);
	TTF_Init();
	doom->window = SDL_CreateWindow("Doom Nukem",
									SDL_WINDOWPOS_UNDEFINED, SDL_WINDOWPOS_UNDEFINED,
                                    doom->w, doom->h, SDL_WINDOW_SHOWN);
	SDL_SetRelativeMouseMode(SDL_TRUE);
	init_skybox(doom);
	doom->buff = (int*)malloc(sizeof(int) * 64);
	init_minimap(doom);
	if ((doom->l.ttf = TTF_OpenFont("../fonts/AmazDooMRight.ttf", 60)) == NULL)
		printf("xyi\n");
	doom->surface = SDL_GetWindowSurface(doom->window);
	Mix_PlayMusic( doom->muz.music, 0 );
	Mix_VolumeMusic(MIX_MAX_VOLUME / 8);
	return (1);
}